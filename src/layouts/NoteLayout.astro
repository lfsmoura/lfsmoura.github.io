---
import BaseLayout from './BaseLayout.astro';

interface Props {
  frontmatter: {
    title: string;
    date?: Date;
    author?: string;
  };
}

const { frontmatter } = Astro.props;
const currentUrl = Astro.url.pathname;

const dateFormat = new Intl.DateTimeFormat('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<BaseLayout title={frontmatter.title}>
  <article class="w-full">
    <header class="post-header">
      <h1 class="post-title p-name" itemprop="name headline">
        {frontmatter.title}
      </h1>
      <p class="mb-4">
        {frontmatter.date && (
          <time
            class="text-gray-500"
            datetime={frontmatter.date.toISOString()}
            itemprop="datePublished"
          >
            {dateFormat.format(frontmatter.date)}
          </time>
        )}
        {frontmatter.author && (
          <>
            {' '}&bull;{' '}
            <span itemprop="author" itemscope itemtype="http://schema.org/Person">
              <span class="p-author h-card" itemprop="name">{frontmatter.author}</span>
            </span>
          </>
        )}
      </p>
    </header>

    <div class="w-full">
      <slot />
    </div>

    <a class="u-url" href={currentUrl} hidden></a>
  </article>
</BaseLayout>
