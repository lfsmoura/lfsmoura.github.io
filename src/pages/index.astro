---
import { getCollection } from 'astro:content';
import HomeLayout from '../layouts/HomeLayout.astro';
import Publications from '../components/Publications.astro';
import socialProfiles from '../data/social-profiles.json';

const posts = await getCollection('posts');
const sortedPosts = posts.sort((a, b) => {
  const dateA = getDateFromSlug(a.slug);
  const dateB = getDateFromSlug(b.slug);
  return dateB.getTime() - dateA.getTime();
});

function getDateFromSlug(slug: string): Date {
  const parts = slug.split('-');
  return new Date(`${parts[0]}-${parts[1]}-${parts[2]}T00:00:00Z`);
}

function getPostUrl(slug: string): string {
  const parts = slug.split('-');
  const year = parts[0];
  const month = parts[1];
  const day = parts[2];
  const postSlug = parts.slice(3).join('-');
  return `/${year}/${month}/${day}/${postSlug}`;
}

const dateFormat = new Intl.DateTimeFormat('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<HomeLayout title="Leo Moura">
  <p>
    I was born in Porto Alegre, Brazil. I have a bachelor's and a Master's degree in Computer Science from <abbr title="Universidade Federal do Rio Grande do Sul">UFRGS</abbr> (Porto Alegre, Brazil) and in Systems Engineering from <abbr title="École nationale supérieure d'informatique et de mathématiques appliquées de Grenoble">Ensimag</abbr> (Grenoble, France).
  </p>

  <p>
    At the heart of my career is a commitment to helping users achieve their goals with minimal friction and maximal delight.
  </p>

  <p>
    I'm mainly focusing on developing governance and infrastructure for <a href="https://alliance.xyz/">Alliance</a>. My background includes developing the Microsoft Search home and query assist technologies, as well with developing HP's Alexa skill and IFTTT integration.
  </p>

  <p>
    If you are interested in my career, check my <a href={socialProfiles[3].url}>Linkedin</a>
  </p>

  <h2>Posts</h2>

  <ul>
    {sortedPosts.map((post) => (
      <li>
        <a href={getPostUrl(post.slug)}>{post.data.title}</a>
        <span class="text-gray-500 text-sm ml-2">
          {dateFormat.format(getDateFromSlug(post.slug))}
        </span>
      </li>
    ))}
  </ul>

  <h2>Think I'm currently interested in</h2>

  <ul>
    <li>LLMs and Agents</li>
    <li>The Open Web</li>
    <li>Political Systems</li>
    <li>Startups</li>
    <li><a href="https://www.instagram.com/mourastudio/">Drawing</a></li>
    <li><a href="/personal-data-sovereignty">Personal Data Sovereignty</a></li>
  </ul>

  <h2>Cool things about me</h2>

  <ul>
    <li>I was part of of <a href="https://www.kernel.community/">Kernel Block 9</a></li>
    <li>I speak Portuguese (my native language), English, French, some Spanish, and I'm learning Japanese.</li>
    <li>I lived for a year and half in <a href="https://maps.app.goo.gl/TQGknGDQbkEoVvpi7">Grenoble, France</a>.</li>
    <li>I got this <a href="https://crosswordsgenerator.com">cool app</a> I created years ago that gets 50k MAU.</li>
    <li>Do you know your dog breeds? <a href="https://breedguessr.com/">Test your knowledge</a>.</li>
  </ul>

  <h2>OSS & Projects</h2>

  <ul>
    <li><a href="https://github.com/lfsmoura/trust-bonds">TrustBonds</a>: reputation public good. A social experiment</li>
    <li><a href="https://lifecollection.org/">Life Collection</a>: Game of Life homage NFT</li>
    <li><a href="https://github.com/lfsmoura/one-click-mute">One-click-mute</a>: Chrome extension to mute accounts on X with one click</li>
    <li><a href="https://github.com/lfsmoura/eth-address-to-cute">Eth Address decorator</a>: Chrome extension to turn Ethereum addresses into emojis</li>
  </ul>

  <h2>Publications</h2>

  <Publications />
</HomeLayout>
